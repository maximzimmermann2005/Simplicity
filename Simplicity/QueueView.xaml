<UserControl
    x:Class="Simplicity.QueueView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Simplicity">

    <Grid>
        <ListBox
            x:Name="PlaybackTimeline"
            AllowDrop="True"
            ContextMenuOpening="PlaybackTimeline_ContextMenuOpening"
            ScrollViewer.VerticalScrollBarVisibility="Auto"
            SelectionMode="Extended">
            <ListBox.ContextMenu>
                <ContextMenu x:Name="PlaybackTimelineContextMenu">
                    <MenuItem Click="PlayFromHere_Click" Header="Play From Here" />
                    <MenuItem Click="PlayNext_Click" Header="Play Next" />
                    <MenuItem Click="AddToQueue_Click" Header="Move to Queue" />
                    <MenuItem Click="RemoveFromPlaybackList_Click" Header="Remove from Playback List" />
                </ContextMenu>
            </ListBox.ContextMenu>
            <ListBox.ItemTemplate>
                <DataTemplate DataType="{x:Type local:Song}">
                    <Grid Height="Auto">
                        <StackPanel x:Name="SongContent">
                            <TextBlock FontWeight="SemiBold" Text="{Binding Title}" />
                            <TextBlock Opacity="0.8" Text="{Binding Artist}" />
                        </StackPanel>

                        <Rectangle
                            x:Name="IndicatorLine"
                            Height="2"
                            Margin="0,2"
                            Fill="DeepSkyBlue"
                            Visibility="Collapsed" />

                    </Grid>
                    <DataTemplate.Triggers>
                        <DataTrigger Binding="{Binding IsPlaceholder}" Value="True">
                            <Setter TargetName="SongContent" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="IndicatorLine" Property="Visibility" Value="Visible" />
                        </DataTrigger>
                    </DataTemplate.Triggers>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</UserControl>